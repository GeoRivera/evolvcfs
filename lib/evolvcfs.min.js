!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(module,exports,__webpack_require__){"use strict";function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}!function(Global,document){var _curry=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(){for(var r=arguments.length,n=Array(r),o=0;o<r;o++)n[o]=arguments[o];return function(t){return t.length===e.length?e.apply(void 0,_toConsumableArray(t)):_curry(e,t)}([].concat(_toConsumableArray(t),n))}},_compose=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})},_pipe=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce(function(e,t){return function(){return t(e.apply(void 0,arguments))}})},_not=function(e){return function(){return!e.apply(void 0,arguments)}},_flip=function(e){return function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.apply(void 0,_toConsumableArray(r.reverse()))}},_all=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce(function(e,t){return!(!e||!t)},!0)},_any=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce(function(e,t){return!(!e&&!t)},!1)},_box=function(e){return Array.isArray(e)?e:[e]},_toDate=function(e){return new Date(e)},_dtFieldToDate=function(e){return"[object String]"===Object.prototype.toString.call(e)?_toDate($$.getElement(e)):e},_where=function(e){return"'"+e.replace(/{{/g,"\\'\\'' + {{").replace(/}}/g," + '\\'\\' {{").replace(/{#/g,"' + {{").replace(/#}/g," + ' {{").split("{{").reduce(function(e,t){return e+t},"")+"'"},_exists=function(e){return void 0!==e&&null!==e||!!e},_fromNullable=function(e){return void 0===e||!e},_isDateTimeField=function(e){return"DT"===$("#"+e).attr("type_code")||"D"===$("#"+e).attr("type_code")},_tryCatch=function(e){try{return e}catch(e){}},_isBlankDtTm=function(e){return""===getFormElement(e)&&""===getFormElement("time_"+e)},_isBlankDtOrTm=function(e){return""===getFormElement(e)||""===getFormElement("time_"+e)},_hasDtOrTm=_not(_isBlankDtTm),_isBlank=function(e){return _isDateTimeField(e)?_isBlankDtTm(e):""===getFormElement(e)},_hasValue=function(e){return _isDateTimeField(e)?_not(_isBlankDtOrTm)(e):_not(_isBlank)(e)},_wasModified=function(e){var t=$("#"+e).attr("old_value"),r=$$.getElement(e);return _exists(t)||$("#"+e).attr("old_value",""),!!_hasValue(e)&&(_exists(t)&&t!==r)},_keepValue=function(e){var t=$$.getElement(e);_hasValue(e)&&$("#"+e).attr("old_value",t)},_valueChanged=function(e){return _wasModified(e)&&_fromNullable(_keepValue(e))};Global.$$={hasActiveEnrollment:function hasActiveEnrollment(peopleId,programId){var cond=eval(_where("program_info_id = {{programId}}")),has_enrollment=getDataValue("current_program_enrollment_view","people_id",peopleId,"program_name",cond),end_date=getDataValue("current_program_enrollment_view","people_id",peopleId,"end_date",cond);return has_enrollment&&!end_date},setXMLAttribute:function(e,t,r){e=_box(e).slice(),"number"==typeof r&&(r=r?"true":"false");for(var n=0;n<e.length;n++)_tryCatch($$.getNodeFromXML(e[n],formXML).setAttribute(t,r));refreshView(e[0])},getXMLAttribute:function(e,t){return _tryCatch($$.getNodeFromXML(e,formXML).getAttribute(t))},setRequired:function(e,t){e=_box(e).slice();var r=t?makeRequired:makeUnRequired;e.map(function(e){return _tryCatch(r({id:e}))})},setRequiredIfEntered:function(e){$$.setRequired(e,!_isBlank(e)),_isDateTimeField(e)&&$("#time_"+e).prev().attr("style",$("#caption_"+e).attr("style"))},setElement:function(e,t){if(formElementExists(e)){var r=$$.getNodeFromXML(e,formXML),n="true"===r.getAttribute("is_modifiable");if(r.setAttribute("is_modifiable","true"),_isDateTimeField(e)){var o=t.split(/\s/i),a=o[0],i=(o[1]?o[1]:"")+(o[2]?o[2]:"");_tryCatch(setFormElement(e,a)),_tryCatch(setFormElement("time_"+e,i)),n&&$("#time_"+e).attr("disabled",!n)}else _tryCatch(setFormElement(e,t));n&&$("#"+e).attr("disabled",!n)}},getElement:function(e,t){var r=_fromNullable(t)?getElementFromXML(formXML,e):getFormElement(e);return _isDateTimeField(e)&&r.length<=16&&(r=$("#"+e).val()+" "+$("#time_"+e).val()),r},getClientAge:function(e){return getDataValue("client_personal_view","people_id",e,"age")},getNodeFromXML:function(e,t){t=_fromNullable(t)?formXML:t;return"#"!==e.charAt(0)?t.selectSingleNode("form_object/form_group/form_item[@column_name='"+e+"']")||t.selectSingleNode("form_group/form_item[@column_name='"+e+"']"):t.selectSingleNode("form_object/form_group/form_item[@caption='"+e.slice(1)+"']")||t.selectSingleNode("form_group/form_item[@caption='"+e.slice(1)+"']")},refreshView:function(e){xslTarget.innerHTML=transformXML(formXSL.XMLDocument.xml,formXML.xml),IsDirty()&&formState(e.form,!0)},showErrMsg:function(e,t){var r=$("#"+e)[0];$$.hideErrMsg(e),t="❌ "+t,$(r).parent().parent().parent().prepend('<tr id="'+r.id+'_err_row"><td width="120"></td><td rowSpan="1" colSpan="1"><div id='+r.id+"_err_msg >"+t+"</div></td></tr>"),$("#"+r.id+"_err_msg").css({margin:"10px 0px",padding:"10px",float:"left",width:"50%",color:"#D8000C",backgroundColor:"#FFD2D2",fontFamily:"arial",fontSize:".8em",verticalAlign:"middle"})},hideErrMsg:function(e){$("#"+e+"_err_row").remove()},dtComp:function(e,t,r){switch(e=_dtFieldToDate(e),r=_dtFieldToDate(r),t){case"=":case"equal":return e.toString()===r.toString();case"!=":case"different":return e.toString()!==r.toString();case">":case"after":return e>r;case">=":return e>=r;case"<":case"before":return e<r;case"<=":return e<=r;default:return!1}},dateIsAfter:function(e,t,r){_hasValue(e)&&_valueChanged(e)&&!$$.dtComp(e,"after",t)?($$.showErrMsg(e,r),_hasValue(e)&&$$.setElement(e,"")):_hasValue(e)&&$$.dtComp(e,"after",t)&&$$.hideErrMsg(e)},dateIsBefore:function(e,t,r){_hasValue(e)&&_valueChanged(e)&&!$$.dtComp(e,"before",t)?($$.showErrMsg(e,r),!_isBlankDtTm(e)&&$$.setElement(e,"")):_isBlankDtTm(e)||$$.hideErrMsg(e)},allDt:function(e){var t="",r=e.reduce(function(e,r){var n=[].concat(_toConsumableArray(r)),o=n[0],a=n[1],i=n[2],u=n[3],l=$$.dtComp(o,a,i);return l||(t+=u+"\n",$$.setElement(o,"")),e&&l},!0);return r||alert(t),r},isAtMostHoursAfter:function(e,t,r,n){e=_dtFieldToDate(e),((r=_dtFieldToDate(r))-e)/60/60/1e3>t&&(alert(n),$$.setElement(e,""))},eraseOnDisable:function eraseOnDisable(currEl,eraseList){eraseList=_box(eraseList),eraseList.map(function(el){_tryCatch(eval($$.getXMLAttribute(el,"disable_rule_code")))&&(_tryCatch(setFormElement(el,"")),$("#"+el+"_prompt").val(""))})},getFormElement:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){return getFormElement(e).replace(/[{}]/g,"")}),copyEvents:function(e,t,r){(r=_box(r)).forEach(function(r){var n=e[r];n&&(t[r]=function(){n.call(this)})})},syncDtTmEvents:function(e){(e=_box(e)).map(function(e){return $$.copyEvents(document.getElementById(e),document.getElementById("time_"+e),["onchange","onblur"])})}},$$}(window.parent,document)}]);
//# sourceMappingURL=evolvcfs.min.js.map